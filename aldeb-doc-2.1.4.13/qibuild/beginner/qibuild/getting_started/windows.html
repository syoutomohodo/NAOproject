
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Getting started with qibuild on Windows &mdash; qiBuild 2.1.4.13 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '2.1.4.13',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="qiBuild 2.1.4.13 documentation" href="../../../index.html" />
    <link rel="up" title="Building C++ projects with qibuild" href="../tutorial.html" />
    <link rel="next" title="Building with qibuild and QtCreator" href="../ide/qtcreator.html" />
    <link rel="prev" title="Getting started with qibuild on Mac OS" href="mac.html" />
 
<script type="text/javascript" src="https://community.aldebaran-robotics.com/static/js/include_doc.js"></script>
<script>
$(window).ready(function () {
    var width_label = 0;
    $('dl.function-index dt > span').each(function () {
        $(this).css('width', 'auto');
        width_label = Math.max(width_label, $(this).width());
    }).width(width_label + 30);
})

</script>


  </head>
  <body>

    <div class="document">
  <div id="custom-doc" class="yui-t3">
    <div id="hd">
      <h1><a href="../../../index.html">qiBuild documentation</a></h1>
      <div id="global-nav">
        <a title="NAOqi Developer guide" href="../../../index.html">Home</a>
        
         |
        <a title="Search" href="../../../search.html">Search</a>
         |
        <a title="Index" href="../../../genindex.html">Index</a>
        
         |
        <a title="CMake index" href="../../../cmake-functions-index.html">CMake index</a>
         |
        <a title="Python index" href="../../../py-modindex.html">Python index</a>
        
        
      </div>
      <div class="nav">
    &laquo; <a href="mac.html" title="Getting started with qibuild on Mac OS">previous</a>
     |
    <a href="../tutorial.html" title="Building C++ projects with qibuild" accesskey="U">up</a>
   |
    <a href="../ide/qtcreator.html" title="Building with qibuild and QtCreator">next</a> &raquo;</div>
    </div>

    <div id="bd">
      <div id="yui-main">
        <div class="yui-b">
          <div class="yui-g" id="beginner-qibuild-getting_started-windows">
            
  <div class="section" id="getting-started-with-qibuild-on-windows">
<h1>Getting started with qibuild on Windows<a class="headerlink" href="#getting-started-with-qibuild-on-windows" title="Permalink to this headline">¶</a></h1>
<div class="section" id="install-cmake">
<h2>Install CMake<a class="headerlink" href="#install-cmake" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">qibuild</span></tt> uses <tt class="docutils literal"><span class="pre">CMake</span></tt>. Get the latest version from <tt class="docutils literal"><span class="pre">http://cmake.org</span></tt>,
and make sure that <tt class="docutils literal"><span class="pre">CMake</span></tt> is in your <tt class="docutils literal"><span class="pre">PATH</span></tt></p>
<p>It also means that <tt class="docutils literal"><span class="pre">qibuild</span></tt> is compatible with every compiler supported by
<tt class="docutils literal"><span class="pre">CMake</span></tt>.</p>
</div>
<div class="section" id="install-a-compiler">
<h2>Install a compiler<a class="headerlink" href="#install-a-compiler" title="Permalink to this headline">¶</a></h2>
<p>On windows, the best supported ways to use qibuild is with</p>
<ul class="simple">
<li>Visual Studio</li>
<li>or QtCreator  (using mingw)</li>
</ul>
</div>
<div class="section" id="first-run">
<h2>First run<a class="headerlink" href="#first-run" title="Permalink to this headline">¶</a></h2>
<p>You should run</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">$</span> qibuild config --wizard
</pre></div>
</div>
<p>The first time you run qibuild and then answer the questions.</p>
<p>A file will be generated in <tt class="docutils literal"><span class="pre">~/.config/qi/qibuild.xml</span></tt>.
It is shared by all the worktrees you will create.</p>
<p>You will ask to choose a CMake generator.
The generator you want to use depends on how you wish to use qibuild
Configuring qiBuild</p>
<p>Note that you can run <tt class="docutils literal"><span class="pre">qibuild</span> <span class="pre">config</span></tt> to get a look at your current
settings, and change them by editing the XML files, or re-running <tt class="docutils literal"><span class="pre">qibuild</span>
<span class="pre">config</span> <span class="pre">--wizard</span></tt></p>
</div>
<div class="section" id="building-with-visual-studio">
<h2>Building with Visual Studio<a class="headerlink" href="#building-with-visual-studio" title="Permalink to this headline">¶</a></h2>
<p>You will have to make sure CMake uses the proper generator for qiBuild to work
with Visual Studio.</p>
<p>Note when using Aldebaran packages, 64bits support is not available. You can
still use Visual Studio on a 64bits machines to build and run 32 bits executable
with a 32bits SDK, though.</p>
<p>Here is what a complete <tt class="docutils literal"><span class="pre">~/.config/.qi/qibuild.xml</span></tt> would look like to use Visual Studio 2010</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;qibuild</span> <span class="na">version=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;defaults&gt;</span>
    <span class="nt">&lt;cmake</span> <span class="na">generator =</span> <span class="s">&quot;Visual Studio 10&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/defaults&gt;</span>
<span class="nt">&lt;/qibuild&gt;</span>
</pre></div>
</div>
<p>Then just open the <tt class="docutils literal"><span class="pre">.sln</span></tt> that will be generated in the build directory.</p>
<p>If you want, you can also use an other generator than Visual Studio.
You may build faster using an other generator, at the cost of not having an IDE
to browse your source code.</p>
<p>If you choose to do so, you should either:</p>
<ul class="simple">
<li>Run qibuild from the Visual Studio command prompt</li>
<li>Or specify a <tt class="docutils literal"><span class="pre">.bat</span></tt> file to be ran by qibuild, like this</li>
</ul>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;qibuild</span> <span class="na">version=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;defaults&gt;</span>
    <span class="nt">&lt;env</span> <span class="na">bat_file=</span><span class="s">&quot;c:\Program Files\Microsoft Visual Studio 10\VC\vcvarsall.bat&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/defaults&gt;</span>
<span class="nt">&lt;/qibuild&gt;</span>
</pre></div>
</div>
<p>(the location of the <tt class="docutils literal"><span class="pre">.bat</span></tt> file depends on your setup)</p>
<ul class="simple">
<li>Then, you can choose an other generator such as <tt class="docutils literal"><span class="pre">NMake</span> <span class="pre">Makefiles</span></tt>, <tt class="docutils literal"><span class="pre">Jom</span></tt> or
<tt class="docutils literal"><span class="pre">Ninja</span></tt></li>
</ul>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;qibuild</span> <span class="na">version=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;defaults&gt;</span>
    <span class="nt">&lt;cmake</span> <span class="na">generator=</span><span class="s">&quot;Ninja&quot;</span> <span class="nt">/&gt;</span>
 <span class="nt">&lt;/defaults&gt;</span>
<span class="nt">&lt;/qibuild&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="configuring-qibuild-for-qtcreator">
<h2>Configuring qiBuild for QtCreator<a class="headerlink" href="#configuring-qibuild-for-qtcreator" title="Permalink to this headline">¶</a></h2>
<p>The preferred way to use qibuild on Windows is with Visual Studio, and please
note that Aldebaran does not provide a C++ SDK for mingw.</p>
<p>But, if you do not want to use Visual Studio, you can still use qibuild
with QtCreator and the mingw package that comes with it.</p>
<ul class="simple">
<li>Get the latest QtCreator and install it. (you only need the QtCreator
package, no need for the full-fledged Qt SDK)</li>
<li>Add the MinGW’s path to your %PATH% so that QtCreator can find mingw32-make
without running qmake</li>
<li>Tell qibuild to use &#8220;MinGW Makefiles&#8221;</li>
</ul>
<p>Here is what a complete <tt class="docutils literal"><span class="pre">.config/.qi/qibuild.xml</span></tt> would look like to use MinGW with QtCreator</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;qibuild</span> <span class="na">version=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;defaults&gt;</span>
    <span class="nt">&lt;env</span> <span class="na">path=</span><span class="s">&quot;C:\QtSDK\mingw\bin&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;cmake</span> <span class="na">general=</span><span class="s">&quot;MinGW Makefiles&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/defaults&gt;</span>
<span class="nt">&lt;/qibuild&gt;</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">qibuild never modify os.environ globally, so the executable you
just built won&#8217;t run unless you have mingw&#8217;s DLLs in your PATH,
but it should run from QtCreator without problems</p>
</div>
<p>Please read the <tt class="docutils literal"><span class="pre">qibuild-qtcreator</span></tt> section to learn how to build from
QtCreator.</p>
</div>
<div class="section" id="configuring-qibuild-for-mingw-with-msys">
<h2>Configuring qiBuild for MinGW with Msys<a class="headerlink" href="#configuring-qibuild-for-mingw-with-msys" title="Permalink to this headline">¶</a></h2>
<p>You will have to do several things for qibuild to work with MinGW.</p>
<ul class="simple">
<li>Set PATH properly so that make.exe and gcc.exe are found</li>
<li>Make sure CMake uses the correct generator</li>
</ul>
<p>Here’s what a complete <tt class="docutils literal"><span class="pre">.config/qi/qibuild.xml</span></tt> would look like to use MinGW</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;qibuild</span> <span class="na">version=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;defaults&gt;</span>
    <span class="nt">&lt;env</span> <span class="na">path=</span><span class="s">&quot;C:\Mingw\bin;C:\MinGW\msys\1.0\bin;&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;cmake</span> <span class="na">generator =</span> <span class="s">&quot;Unix Makefiles&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/defaults&gt;</span>
<span class="nt">&lt;/qibuild&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">here you have to setup a complete <tt class="docutils literal"><span class="pre">msys</span></tt> environment before being
able to use qibuild.</p>
</div>
</div>
<div class="section" id="using-jom">
<h2>Using JOM<a class="headerlink" href="#using-jom" title="Permalink to this headline">¶</a></h2>
<p>Get the JOM package from here: <a class="reference external" href="ftp://ftp.qt.nokia.com/jom/">ftp://ftp.qt.nokia.com/jom</a>
and extract it, for instance in <tt class="docutils literal"><span class="pre">C:\Jom109</span></tt></p>
<p>Then, add jom to you path and use <strong>MinGW Makefiles JOM</strong> generator:</p>
<p>For instance:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;qibuild</span> <span class="na">version=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;defaults&gt;</span>
    <span class="nt">&lt;env</span>
      <span class="na">bat_file=</span><span class="s">&quot;c:\Program Files\Microsoft Visual Studio 9.0\VC\vcvarsall.bat&quot;</span> <span class="nt">/&gt;</span>
      path=&quot;C:\Jom109&quot;
    /&gt;
    <span class="nt">&lt;cmake</span> <span class="na">generator =</span> <span class="s">&quot;NMake Makefiles JOM&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/defaults&gt;</span>
<span class="nt">&lt;/qibuild&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="using-ninja">
<h2>Using Ninja<a class="headerlink" href="#using-ninja" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://martine.github.com/ninja/">Ninja</a> is a small build system with a focus on speed.</p>
<p><tt class="docutils literal"><span class="pre">Ninja</span></tt> is supported by <tt class="docutils literal"><span class="pre">CMake</span></tt> since 2.8.10, and by <tt class="docutils literal"><span class="pre">QtCreator</span></tt>
since 2.6.1</p>
<p>Support for <tt class="docutils literal"><span class="pre">Ninja</span></tt> is still experimental, but by using it
you should experience faster compilations, especially during incremental
builds.</p>
<p>First, get ninja from github and compile it:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">$</span> git clone git://github.com/martine/ninja.git
<span class="gp">$</span> <span class="nb">cd </span>ninja
<span class="gp">$</span> python ./bootstrap.py
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">On Windows, you need to run this form the Visual Studio command
prompt so that cl.exe can be found, or, if you are using mingw,
from a mingw command prompt</p>
</div>
<p>Then make sure that <tt class="docutils literal"><span class="pre">ninja</span></tt> is in your PATH.</p>
<p>To use it, edit <tt class="docutils literal"><span class="pre">.config/qi/qibuild.xml</span></tt> to look like:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;qibuild</span> <span class="na">version=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;build</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;defaults&gt;</span>
    <span class="nt">&lt;cmake</span> <span class="na">generator=</span><span class="s">&quot;Ninja&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/defaults&gt;</span>
<span class="nt">&lt;/qibuild&gt;</span>
</pre></div>
</div>
<p>Or just re-run <tt class="docutils literal"><span class="pre">qibuild</span> <span class="pre">config</span> <span class="pre">--wizard</span></tt></p>
</div>
</div>


          </div>
          <!-- <div class="footernav">
    &laquo; <a href="mac.html" title="Getting started with qibuild on Mac OS">Getting started with qibuild on Mac OS</a>
     |
    <a href="../tutorial.html" title="Building C++ projects with qibuild" accesskey="U">Building C++ projects with qibuild</a>
   |
    <a href="../ide/qtcreator.html" title="Building with qibuild and QtCreator">Building with qibuild and QtCreator</a> &raquo;</div> -->
        </div>
      </div>
      
        
          <div class="yui-b" id="sidebar">
            
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>

  <h3>Table Of Contents</h3>
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../changelog.html">Changelog</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Welcome to qiBuild documentation !</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../overview.html">qiBuild: the build framework</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../getting_started.html">Getting Started</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../qisrc/git_projects.html">Managing git projects with qisrc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../qisrc/templates.html">Managing code templates with qisrc</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../tutorial.html">Building C++ projects with qibuild</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="linux.html">Getting started with qibuild on Linux</a></li>
<li class="toctree-l4"><a class="reference internal" href="mac.html">Getting started with qibuild on Mac OS</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="">Getting started with qibuild on Windows</a><ul class="simple">
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../ide/qtcreator.html">Building with qibuild and QtCreator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ide/visual_studio.html">Building with qiBuild and Visual Studio</a></li>
<li class="toctree-l4"><a class="reference internal" href="../aldebaran.html">Using qibuild with Aldebaran C++ SDKs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../qidoc/tutorial.html">Building documentation with qidoc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../qilinguist/tutorial.html">Translating projects with qilinguist</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="../../tutorial.html">qiBuild tutorials</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../qisrc/git_projects.html">Managing git projects with qisrc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../qisrc/templates.html">Managing code templates with qisrc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../qisrc/git-to-qisrc_cookbook.html">Git-to-qisrc cookbook</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../tutorial.html">Building C++ projects with qibuild</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="linux.html">Getting started with qibuild on Linux</a></li>
<li class="toctree-l4"><a class="reference internal" href="mac.html">Getting started with qibuild on Mac OS</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="">Getting started with qibuild on Windows</a><ul class="simple">
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../ide/qtcreator.html">Building with qibuild and QtCreator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ide/visual_studio.html">Building with qiBuild and Visual Studio</a></li>
<li class="toctree-l4"><a class="reference internal" href="../aldebaran.html">Using qibuild with Aldebaran C++ SDKs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../qitoolchain/tutorial.html">Managing pre-compiled binary packages with qitoolchain</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../qidoc/tutorial.html">Building documentation with qidoc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../qilinguist/tutorial.html">Translating projects with qilinguist</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../qipy/tutorial.html">Using Python with qibuild projects</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../qipkg/tutorial.html">qipkg tutorial</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../advanced/index.html">Advanced qibuild usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hacking/index.html">Hacking qiBuild</a></li>
</ul>

    <h3><a href="../../../index.html">On this page</a></h3>
    <ul>
<li><a class="reference internal" href="#">Getting started with qibuild on Windows</a><ul>
<li><a class="reference internal" href="#install-cmake">Install CMake</a></li>
<li><a class="reference internal" href="#install-a-compiler">Install a compiler</a></li>
<li><a class="reference internal" href="#first-run">First run</a></li>
<li><a class="reference internal" href="#building-with-visual-studio">Building with Visual Studio</a></li>
<li><a class="reference internal" href="#configuring-qibuild-for-qtcreator">Configuring qiBuild for QtCreator</a></li>
<li><a class="reference internal" href="#configuring-qibuild-for-mingw-with-msys">Configuring qiBuild for MinGW with Msys</a></li>
<li><a class="reference internal" href="#using-jom">Using JOM</a></li>
<li><a class="reference internal" href="#using-ninja">Using Ninja</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
          </div>
        
      
    </div>

    <div id="ft">
      <div class="nav">
    &laquo; <a href="mac.html" title="Getting started with qibuild on Mac OS">previous</a>
     |
    <a href="../tutorial.html" title="Building C++ projects with qibuild" accesskey="U">up</a>
   |
    <a href="../ide/qtcreator.html" title="Building with qibuild and QtCreator">next</a> &raquo;</div>
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>